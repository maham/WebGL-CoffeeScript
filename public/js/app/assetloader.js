// Generated by CoffeeScript 1.8.0
(function() {
  define(['app/microajax'], function(MicroAjax) {
    var AssetLoader;
    return AssetLoader = (function() {
      function AssetLoader(assetUrls, callbackFunction) {
        var currentAssetName, currentAssetUrl;
        this.callbackFunction = callbackFunction;
        this.assets = {};
        this.numIncompleteAssets = (Object.keys(assetUrls)).length;
        for (currentAssetName in assetUrls) {
          currentAssetUrl = assetUrls[currentAssetName];
          this.loadAsset(currentAssetUrl, currentAssetName);
        }
      }

      AssetLoader.prototype.loadAsset = function(assetUrl, assetName) {
        return new MicroAjax(assetUrl, function(resource) {
          return this.onAssetLoaded(resource, assetName);
        });
      };

      AssetLoader.prototype.onAssetLoaded = function(resource, assetName) {
        this.assets[assetName] = resource;
        this.numIncompleteAssets--;
        if (this.numIncompleteAssets <= 0) {
          return this.callbackFunction(this.assets);
        }
      };

      return AssetLoader;

    })();
  });

}).call(this);
